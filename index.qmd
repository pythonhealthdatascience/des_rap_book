---
title: Welcome
authors:
  - name: Ms Amy Heather
    url: https://github.com/amyheather
    orcid: 0000-0002-6596-3479
    affiliation: Peninsula Collaboration for Health Operational Research and Data Science (PenCHORD), University of Exeter Medical School
date: last-modified
---

This book is a step-by-step guide to writing reproducible discrete-event simulation models in Python and R. It guides you through creating these models whilst meeting reproducibility requirements from:

* ğŸŒ¿ [Heather et al. 2025](https://doi.org/10.48550/arXiv.2501.13137) "On the reproducibility of discrete-event simulation studies in health research: an empirical study using open models"
* ğŸ¥ The ["Levels of RAP" framework](https://nhsdigital.github.io/rap-community-of-practice/introduction_to_RAP/levels_of_RAP/) from the NHS RAP Community of Practice 

## Introduction {.unnumbered}

### RAP {.unnumbered}

### FOSS, Python and R {.unnumbered}

ğŸ¥ "Data produced by code in an open-source language (e.g., Python, R, SQL)."

## Setup {.unnumbered}

### Version control {.unnumbered}

ğŸ¥ "Code is version controlled (see [Git basics](https://nhsdigital.github.io/rap-community-of-practice/training_resources/git/introduction-to-git/) and [using Git collaboratively](https://nhsdigital.github.io/rap-community-of-practice/training_resources/git/using-git-collaboratively/) guides)."

### Environment {.unnumbered}

ğŸŒ¿ "List dependencies and versions"

ğŸ¥ "Repository includes dependency information (e.g. [requirements.txt](https://pip.pypa.io/en/stable/user_guide/#requirements-files), [PipFile](https://github.com/pypa/pipfile/blob/main/README.rst), [environment.yml](https://nhsdigital.github.io/rap-community-of-practice/training_resources/python/virtual-environments/conda/))."

### Package {.unnumbered}

ğŸ¥ "Code is well-organised following [standard directory format](https://nhsdigital.github.io/rap-community-of-practice/training_resources/python/project-structure-and-packaging/)."

ğŸ¥ "Code is fully [packaged](https://packaging.python.org/en/latest/)."

### Structuring code {.unnumbered}

ğŸŒ¿ "Minimise code duplication"

ğŸ¥ "[Reusable functions](https://nhsdigital.github.io/rap-community-of-practice/training_resources/python/python-functions/) and/or classes are used where appropriate."

## Model {.unnumbered}

### Parameters {.unnumbered}

ğŸŒ¿ "Avoid hard-coded parameters"

### Distributions {.unnumbered}

ğŸŒ¿ "Control randomness"

### Patient generators {.unnumbered}

### Patient destination/model logic {.unnumbered}

### Outcomes {.unnumbered}

ğŸŒ¿ "Include code to calculate all required model outputs"

ğŸŒ¿ "Ensure clarity and consistency in the model results tables"

ğŸ¥ "Data is handled and output in a [Tidy data format](https://medium.com/@kimrodrikwa/untidy-data-a90b6e3ebe4c)."

### Logging {.unnumbered}

ğŸ¥ "[Logs](https://nhsdigital.github.io/rap-community-of-practice/training_resources/python/logging-and-error-handling/) are automatically recorded by the pipeline to ensure outputs are as expected."

## Other bits {.unnumbered}

### Warm-up {.unnumbered}

### Multiple replications and parallel processing {.unnumbered}

ğŸŒ¿ "Optimise model run time"

## Analysis {.unnumbered}

ğŸŒ¿ "Provide code for all scenarios and sensitivity analyses "

ğŸŒ¿ "Include code to generate the tables, figures, and other reported results"

ğŸŒ¿ "Save outputs to a file"

ğŸŒ¿ "Avoid excessive output files"

ğŸŒ¿ "Address large file sizes"

ğŸ¥ "Outputs are produced by code with minimal manual intervention."

## Good stuff {.unnumbered}

### Docstrings and comments {.unnumbered}

ğŸŒ¿ "Comment sufficiently"

ğŸ¥ "Code is well-documented including user guidance, explanation of code structure & methodology and [docstrings](https://nhsdigital.github.io/rap-community-of-practice/training_resources/python/python-functions/#documentation) for functions."

### Linting {.unnumbered}

ğŸ¥ "Code adheres to agreed coding standards (e.g PEP8, [style guide for Pyspark](https://nhsdigital.github.io/rap-community-of-practice/training_resources/pyspark/pyspark-style-guide/))."

### Testing {.unnumbered}

ğŸ¥ "Pipeline includes a testing framework ([unit tests](https://nhsdigital.github.io/rap-community-of-practice/training_resources/python/unit-testing/), [back tests](https://nhsdigital.github.io/rap-community-of-practice/training_resources/python/backtesting/))."

### GitHub actions {.unnumbered}

ğŸ¥ "Repository automatically runs tests etc. via CI/CD or a different integration/deployment tool e.g. [GitHub Actions](https://docs.github.com/en/actions)."

### User guide? {.unnumbered}

ğŸ¥ "Code is well-documented including user guidance, explanation of code structure & methodology and [docstrings](https://nhsdigital.github.io/rap-community-of-practice/training_resources/python/python-functions/#documentation) for functions."

### Running everything again {.unnumbered}

ğŸŒ¿ "Ensure model parameters are correct"

### Peer review {.unnumbered}

ğŸ¥ "Code has been [peer reviewed](https://nhsdigital.github.io/rap-community-of-practice/implementing_RAP/workflow/code-review/)."

### Sharing and archiving {.unnumbered}

ğŸ¥ "Code is [published in the open](https://nhsdigital.github.io/rap-community-of-practice/implementing_RAP/publishing_code/how-to-publish-your-code-in-the-open/) and linked to & from accompanying publication (if relevant)."

## Metadata {.unnumbered}

### Licence {.unnumbered}

ğŸŒ¿ "Share code with an open licence"

### Citation {.unnumbered}

### README {.unnumbered}

ğŸŒ¿ "Include run instructions"

ğŸŒ¿ "State run times and machine specifications"

ğŸ¥ "Repository includes a README.md file (or equivalent) that clearly details steps a user must follow to reproduce the code (use [NHS Open Source Policy section on Readmes](https://github.com/nhsx/open-source-policy/blob/main/open-source-policy.md#b-readmes) as a guide)."

ğŸ¥ "Code is well-documented including user guidance, explanation of code structure & methodology and [docstrings](https://nhsdigital.github.io/rap-community-of-practice/training_resources/python/python-functions/#documentation) for functions."

### Changelog and releases {.unnumbered}

ğŸŒ¿ "Link publication to a specific version of the code"

ğŸ¥ "Changes to the RAP are clearly signposted. E.g. a changelog in the package, releases etc. (See gov.uk info on [Semantic Versioning](https://github.com/alphagov/govuk-frontend/blob/main/docs/contributing/versioning.md))."

## N/A {.unnumbered}

ğŸŒ¿ "Separate model code from applications"

ğŸ¥ "Process runs based on event-based triggers (e.g., new data in database) or on a schedule."